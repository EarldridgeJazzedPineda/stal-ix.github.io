Предупреждение: все, что тут описано, является moving target, и subject to change.

Предполагается, что для каждого пользователя ${USER}, существует realm ${USER}, лежащий по пути /ix/realm/${USER}. Так же предполагается, что в этом realm лежат все программы, нужные для работы и логина в систему. Пример того, что может лежать в пользовательском realm: https://github.com/stal-ix/ix/blob/main/pkgs/set/pg/ix.sh

Для всех пользователей, для которых разрешен login, в качестве shell выставлен скрипт /bin/session:

```
pg# cat /etc/passwd  | grep sess
pg:redacted:10000:10000:none:/home/pg:/bin/session
```

Этот скрипт настраивает пользовательское окружение, некоторые переменные среды, создает временные папки для пользователя, и прочее:

https://github.com/stal-ix/ix/blob/main/pkgs/bin/session/scripts/session

Так же этот скрипт экспортирует настройки окружения из пользовательского realm:

```
. /ix/realm/${USER}/etc/env
```

Некоторые программы могут настраивать нужное окружение для своей работоспособности, когда устанавливаются в пользовательский realm:

https://github.com/pg83/ix/blob/main/pkgs/lib/gtk/4/env/ix.sh

(поэтому, если вы хотите использовать другую схему для login, то вам нужно убедиться в том, что этот файл читается в процессе логина)

Далее скрипт передает управление в `user-session`, и это место является точкой настройки, то есть, вы можете заменить этот скрипт на свой.

```
exec user-session
```
